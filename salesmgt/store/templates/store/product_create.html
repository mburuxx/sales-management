{% extends "store/base.html" %}
{% load static %}

{% block title %}Create New Product{% endblock title %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-white border-bottom p-4">
                    <h4 class="mb-0" style="color: var(--primary-color);">Add New Inventory Item</h4>
                    <p class="text-muted mb-0">Fill in the details below to register a new product in the inventory.</p>
                </div>
                
                <div class="card-body p-4">
                    <!-- The form submission will be handled by ProductCreateView -->
                    <form method="post">
                        {% csrf_token %}
                        
                        <!-- Form Fields using Bootstrap Grid for better layout -->
                        <div class="row g-3">
                            <!-- Name and Category -->
                            <div class="col-md-6">
                                <label for="{{ form.name.id_for_label }}" class="form-label fw-bold">Name</label>
                                {{ form.name }}
                            </div>
                            <div class="col-md-6">
                                <label for="{{ form.category.id_for_label }}" class="form-label fw-bold">Category</label>
                                {{ form.category }}
                            </div>

                            <!-- Quantity and Price -->
                            <div class="col-md-6">
                                <label for="{{ form.quantity.id_for_label }}" class="form-label fw-bold">Quantity</label>
                                {{ form.quantity }}
                            </div>
                            <div class="col-md-6">
                                <label for="{{ form.price.id_for_label }}" class="form-label fw-bold">Unit Price ($)</label>
                                {{ form.price }}
                            </div>
                            
                            <!-- Vendor and Expiration Date -->
                            <div class="col-md-6">
                                <label for="{{ form.vendor.id_for_label }}" class="form-label fw-bold">Vendor</label>
                                {{ form.vendor }}
                            </div>
                            <div class="col-md-6">
                                <label for="{{ form.expiring_date.id_for_label }}" class="form-label fw-bold">Expiration Date</label>
                                {{ form.expiring_date }}
                                <div class="form-text text-muted">Leave blank if not applicable.</div>
                            </div>
                            
                            <!-- Description (Full width) -->
                            <div class="col-12">
                                <label for="{{ form.description.id_for_label }}" class="form-label fw-bold">Description</label>
                                {{ form.description }}
                            </div>

                            <!-- Hidden field for potential form errors, if not displayed inline -->
                            {% if form.non_field_errors %}
                                <div class="col-12 alert alert-danger mt-3">
                                    {{ form.non_field_errors }}
                                </div>
                            {% endif %}
                            
                            <!-- Submit Button -->
                            <div class="col-12 pt-3 border-top mt-4">
                                <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow-sm">
                                    <i class="fa-solid fa-save me-2"></i> Create Product
                                </button>
                                <a href="{% url 'product-list' %}" class="btn btn-outline-secondary btn-lg rounded-pill ms-2">Cancel</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
